---
api_version: catalog/v1
type: Integration
metadata:
  namespace: pushover
  name: pushover-alerts
spec:
  class: supported
  provider: alerts
  display_name: Pushover Alerts
  short_description: Integrates Sensu Integrations with Pushover Push Notifications
  supported_platforms:
    - linux
  tags:
    - pushover
    - incidents
    - alerts
  contributors:
    - "@sensu"
    - "@nixwiz"
    - "@jspaleta"
    - "@calebhailey"
  prompts:
    - type: section
      title: Pushover Application
    - type: markdown
      body: |
        This integration requires access to a Pushover Application
    - type: question
      name: pushover_user_key
      input:
        type: string
        title: Pushover User Key
        required: true
    - type: question
      name: pushover_app_api_token
      input:
        type: string
        title: Pushover Application API Token
        required: true
  resource_patches:
    - resource:
        api_version: core/v2
        type: Handler
        name: pushover-alerts
      patches:
        - path: /spec/env_vars/-
          op: add
          value: "SENSU_PUSHOVER_USERKEY=[[pushover_user_key]]"
        - path: /spec/env_vars/-
          op: add
          value: "SENSU_PUSHOVER_TOKEN=[[pushover_app_api_token]]"
